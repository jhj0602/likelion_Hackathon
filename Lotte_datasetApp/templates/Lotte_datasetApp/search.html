{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>CODI BOOGIE Search result</title>
    <link rel="stylesheet" href="{% static 'myapp/css/styles2.css' %}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body>
    <a href="main.html"><img class="logo" src="{% static 'myapp/img/main/로고.jpg' %}" alt=""></a>

    <div class="topnav">
      <form class="form-inline my-2 my-lg-0" action="{% url 'search' %}" method="get">
        <input class="form-control mr-sm-2" type="text" name="q" placeholder="검색어를 입력하세요">
          <button class="" id="searchbutton" type="submit" value="Search">Search</button>
        </form>
      <!-- <input type="text" placeholder="Search"><a href="{% url 'search' %}" method="get" name="q"><button class="inbutton searchbtn" type="button" >Search</button></a> 원래꺼-->
      <a href="{%url 'my_cart'%}">
        <svg class="carticon" viewBox="0 0 16 16" class="bi bi-cart4" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l.5 2H5V5H3.14zM6 5v2h2V5H6zm3 0v2h2V5H9zm3 0v2h1.36l.5-2H12zm1.11 3H12v2h.61l.5-2zM11 8H9v2h2V8zM8 8H6v2h2V8zM5 8H3.89l.5 2H5V8zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"/>
        </svg>
      </a>
      <a href="{% url 'logout' %}">
        <svg class="carticon" viewBox="0 0 16 16" class="bi bi-power" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M5.578 4.437a5 5 0 1 0 4.922.044l.5-.866a6 6 0 1 1-5.908-.053l.486.875z"/>
          <path fill-rule="evenodd" d="M7.5 8V1h1v7h-1z"/>
        </svg>
      </a>
    </div>
    <hr class="hr1">

       <h1 class="searchtext">Search results</h1>
       <!-- <form class="form-inline my-2 my-lg-0" action="{% url 'search' %}" method="get">
        <input class="form-control mr-sm-2" type="text" name="q" placeholder="검색어를 입력하세요">
          <button class="btn btn-secondary my-2 my-sm-0" type="submit" value="Search">Search</button>
        </form>
     -->

    <p class="pricebuttons"> 
      <a href="{% url 'lowprice' %}" class="btn btn-primary" id="pricebutton" role="button">낮은 가격순</a>
      <a href="{% url 'highprice' %}" class="btn btn-primary" id="pricebutton" role="button">높은 가격순</a>
    </p>
    <br>
    <br>
  <div class="productcontainer">
    {% if lotteposts %}
    {%for l in lotteposts%}
    <div id="centerproduct">
      <div class="">
        <div class="">
          <div class="thumbnail">
            <img src="/media/{{l.lotteImage}}" alt="..." width="250">
            <div class="caption">
              <p class="category">카테고리 : {{l.category}}</p>
              <p class ="productname">상품 이름 : {{l.lotteName}}</p>
              <p class="productprice">가격 : {{l.lottePrice}}</p>
              <p action="POST" name="searchtitle">검색어 : {{l.search_lotte}}</p>
              <br>
              <br>
              <div style="position: relative; margin-right: 20%;">
                <a href="{% url 'add_cart' l.id %}" class="btn btn-primary" id="cartbutton" role="button">장바구니담기</a>
                <a href="{{l.lotteUrl}}" class="btn btn-primary" id="gototheproductpage" role="button">상품 보러가기</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  <div class="pagenumber">
    {% if lotteposts.has_other_pages %}
    {%if lotteposts.has_previous%}
        {% if q %}
            <a href="?q={{q}}&page=1">1</a>
            <a href="?q={{q}}&page={{lotteposts.previous_page_number}}">이전</a>
        {% else %}
        <a href="?page=1">1</a>
        <a href="?page={{lotteposts.previous_page_number}}">이전</a>
        {% endif %}
    {%endif%}
    <span>{{lotteposts.number}}</span>
    <span>of</span>
    <span>{{lotteposts.paginator.num_pages}}</span>
    {%if lotteposts.has_next%}
        {% if q %}
        <div class="nextandlastbutton">
        <a href="?q={{q}}&page={{lotteposts.next_page_number}}" class="btn btn-dark" id="nextbutton" role="button" >다음</a>
        <a href="?q={{q}}&page={{lotteposts.paginator.num_pages}}" class="btn btn-dark"id="lastbutton" role="button">마지막</a>
        </div>
        {% else %}
        <div class="nextandlastbutton">
        <a href="?page={{lotteposts.next_page_number}}">다음</a>
        <a href="?page={{lotteposts.paginator.num_pages}}">마지막</a>
        </div>
        {%endif%}
    {%endif%}
  </div>

  {% endif %}
{% else %}
<h4>검색결과가 없습니다...</h4>
{% endif %}

      </body>
    </html>